{"version":3,"file":"src_app_pages_location-search_location-search_module_ts.js","mappings":"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","sources":["./src/app/pages/location-search/location-search-routing.module.ts","./src/app/pages/location-search/location-search.module.ts","./src/app/pages/location-search/location-search.page.ts","./src/app/providers/geolocate.service.ts","./src/app/pages/location-search/location-search.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LocationSearchPage } from './location-search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationSearchPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationSearchPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { LocationSearchPageRoutingModule } from './location-search-routing.module';\nimport { LocationSearchPage } from './location-search.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MeetingListProvider } from 'src/app/providers/meeting-list.service';\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\nimport { GeolocateProvider } from 'src/app/providers/geolocate.service';\nimport { Geolocation } from '@awesome-cordova-plugins/geolocation/ngx';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { ComponentModule } from '../../components/component/component.module';\nimport { HTTP } from '@awesome-cordova-plugins/http/ngx';\nimport { StorageService } from 'src/app/providers/storage.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    PipesModule,\n    LocationSearchPageRoutingModule,\n    ComponentModule\n  ],\n  declarations: [\n    LocationSearchPage\n  ],\n  providers: [\n    InAppBrowser,\n    MeetingListProvider,\n    GeolocateProvider,\n    Geolocation,\n    HTTP,\n    StorageService\n  ]\n})\nexport class LocationSearchPageModule {}\n","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { StorageService } from '../../providers/storage.service';\nimport { MeetingListProvider } from '../../providers/meeting-list.service';\nimport { GeolocateProvider } from '../../providers/geolocate.service';\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\nimport { Geolocation } from '@awesome-cordova-plugins/geolocation/ngx';\nimport { LoadingService } from '../../providers/loading.service';\n\n@Component({\n  selector: 'app-location-search',\n  templateUrl: './location-search.page.html',\n  styleUrls: ['./location-search.page.scss'],\n})\nexport class LocationSearchPage  {\n\n  addressMeetingList: any;\n  meetingsListGrouping: string;\n\n  shownGroup = null;\n  loader = null;\n  isLoaded = false;\n  currentAddress: any = '';\n  addressLatitude: any = 0;\n  addressLongitude: any = 0;\n  radius: number;\n  radiusMeters = 10000;\n\n  constructor(private MeetingListProvider: MeetingListProvider,\n              private loaderCtrl: LoadingService,\n              private storage: StorageService,\n              private translate: TranslateService,\n              private GeolocateProvider: GeolocateProvider,\n              private geolocation: Geolocation) {\n    this.meetingsListGrouping = 'weekday_tinyint';\n\n    // this.storage.ready().then(() => {\n\n      this.storage.get('searchRange')\n        .then(searchValue => {\n          if (searchValue) {\n            this.radius = searchValue;\n          } else {\n            this.radius = 25;\n          }\n        });\n\n      this.storage.get('savedAddressLat').then(value => {\n        if (value) {\n          this.addressLatitude = value;\n          this.storage.get('savedAddressLng').then(value => {\n            if (value) {\n              this.addressLongitude = value;\n              this.storage.get('savedAddress').then(value => {\n                if (value) {\n                  this.currentAddress = value;\n                  this.getAllMeetings();\n                } else {\n                  this.locatePhone();\n                }\n              });\n            } else {\n              this.locatePhone();\n            }\n          });\n        } else {\n          this.locatePhone();\n        }\n      });\n    // });\n\n  }\n\n  getAllMeetings() {\n    this.translate.get('FINDING_MTGS').subscribe(value => { this.presentLoader(value); });\n    this.MeetingListProvider.getAddressMeetings(this.addressLatitude, this.addressLongitude, this.radius).subscribe((data) => {\n      this.addressMeetingList = data;\n      this.isLoaded = true;\n      this.dismissLoader();\n    });\n  }\n\n  presentLoader(loaderText: any) {\n    if (!this.loader) {\n      this.loader = this.loaderCtrl.present(loaderText);\n    }\n  }\n\n  dismissLoader() {\n    if (this.loader) {\n      this.loader = this.loaderCtrl.dismiss();\n      this.loader = null;\n    }\n  }\n\n  locatePhone() {\n    this.translate.get('LOCATING').subscribe(value => { this.presentLoader(value); });\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.addressLatitude = resp.coords.latitude;\n      this.addressLongitude = resp.coords.longitude;\n\n      this.storage.set('savedAddressLat', this.addressLatitude);\n      this.storage.set('savedAddressLng', this.addressLongitude);\n\n      this.GeolocateProvider.convertLatLong(this.addressLatitude, this.addressLongitude).subscribe((json) => {\n        this.currentAddress = json;\n        if (this.currentAddress.results[0]) {\n          this.currentAddress = this.currentAddress.results[0].formatted_address;\n          this.storage.set('savedAddress', this.currentAddress);\n\n          this.dismissLoader();\n          this.getAllMeetings();\n        } else {\n          this.dismissLoader();\n          this.currentAddress = 'Location not found';\n        }\n      });\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n\n      this.currentAddress = 'Location not found';\n      this.dismissLoader();\n    });\n  }\n\n\n\n}\n\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n/*\n  Generated class for the GeolocateProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class GeolocateProvider {\n\n  googleAPIKey = '&key=AIzaSyDg5AKBNjMvoBBlLgXpy-dLxLAcVJYpOq8';\n  convertLatLongUrl = 'https://maps.googleapis.com/maps/api/geocode/json?latlng=';\n  convertAddressUrl = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\n\n  constructor(public http: HttpClient) {\n  }\n\n  convertLatLong(lat, long) {\n    const url = this.convertLatLongUrl + lat + ',' + long + this.googleAPIKey;\n\n    return this.http.get(url);\n  }\n\n  convertAddress(address) {\n    const url = this.convertAddressUrl + address + this.googleAPIKey;\n\n    return this.http.get(url);\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      {{'LOCATIONSEARCH' | translate}}\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div ngSwitch=\\\"{{ currentAddress }}\\\">\\n\\n    <div *ngSwitchCase=\\\"''\\\"></div>\\n\\n    <div *ngSwitchCase=\\\"'Location not found'\\\" [ngClass]=\\\"'one'\\\">\\n      <ion-item text-wrap><b>{{'NO_LOCATION' | translate}}</b></ion-item>\\n    </div>\\n\\n    <div *ngSwitchDefault>\\n      <div *ngIf = \\\"isLoaded\\\">\\n        <app-meeting-list [data]=\\\"addressMeetingList\\\" meetingType='regular'></app-meeting-list>\\n      </div>\\n    </div>\\n    \\n  </div>\\n</ion-content>\\n\\n<ion-footer no-padding>\\n  <ion-toolbar no-padding>\\n\\n    <ion-item text-wrap>\\n      <b>{{radius}} {{'MEETINGS_NEAREST' | translate}} {{ currentAddress }}</b>\\n    </ion-item>\\n    <ion-item text-wrap>\\n      <ion-button expand=\\\"full\\\" color=\\\"primary\\\" id=\\\"LocationButton\\\" (click)=\\\"locatePhone()\\\" class=\\\"col text-center text-wrap\\\">\\n        <ion-icon name=\\\"locate-outline\\\"></ion-icon>&nbsp;{{'LOCATIONSEARCH' | translate }}\\n      </ion-button>\\n    </ion-item>\\n\\n    <ion-range id=\\\"RadiusRange\\\" min=\\\"5\\\" max=\\\"50\\\" [(ngModel)]=\\\"radius\\\" (ionChange)=\\\"getAllMeetings()\\\" color=\\\"danger\\\" pin=\\\"true\\\" debounce=\\\"500\\\">\\n      <ion-label slot=\\\"start\\\">5 {{'MEETINGS' | translate}}</ion-label>\\n      <ion-label slot=\\\"end\\\">50 {{'MEETINGS' | translate}}</ion-label>\\n    </ion-range>\\n\\n  </ion-toolbar>\\n</ion-footer>\\n\";"],"names":[],"sourceRoot":"webpack:///"}