"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2602],{2602:(p,m,n)=>{n.r(m),n.d(m,{DoIHaveTheBmltPageModule:()=>I});var d=n(6019),_=n(9133),o=n(5793),v=n(5899),t=n(865),c=n(3769),g=n(551),s=n(5038),a=n(4096),r=n(5432),u=n(9715),L=n(6054);function M(i,h){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"h1"),t._uU(3),t.ALo(4,"translate"),t._UZ(5,"ion-icon",7),t.qZA(),t.TgZ(6,"h2"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"number"),t.ALo(10,"translate"),t.TgZ(11,"i"),t._uU(12),t.ALo(13,"number"),t.ALo(14,"translate"),t.qZA(),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"h2"),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"i"),t._uU(21),t.qZA(),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,10,"YES"),"! "),t.xp6(4),t.lnq("",t.lcZ(8,12,"IS_BMLT_YES_1")," ",t.xi3(9,14,e.nearestMeeting[0].distance_in_miles,"1.1-1")," ",t.lcZ(10,17,"MILES")," ("),t.xp6(5),t.AsE("",t.xi3(13,19,e.nearestMeeting[0].distance_in_km,"1.1-1")," ",t.lcZ(14,22,"KMS"),""),t.xp6(3),t.hij(") ",t.lcZ(16,24,"AWAY"),""),t.xp6(3),t.hij("",t.lcZ(19,26,"IS_BMLT_YES_2")," ("),t.xp6(3),t.Oqu(e.nearestMeeting[0].service_body_bigint),t.xp6(1),t.hij(") ",t.lcZ(23,28,"IS_BMLT_YES_3"),"")}}function f(i,h){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"h1"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"number"),t.ALo(9,"translate"),t.TgZ(10,"i"),t._uU(11),t.ALo(12,"number"),t.ALo(13,"translate"),t.qZA(),t._uU(14,") {{'AWAY' | translate}"),t.qZA(),t.TgZ(15,"h2"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,7,"NO")," "),t.xp6(3),t.lnq("",t.lcZ(7,9,"IS_BMLT_NO_1")," ",t.xi3(8,11,e.nearestMeeting[0].distance_in_miles,"1.1-1")," ",t.lcZ(9,14,"MILES")," ("),t.xp6(5),t.AsE("",t.xi3(12,16,e.nearestMeeting[0].distance_in_km,"1.1-1")," ",t.lcZ(13,19,"KMS"),""),t.xp6(5),t.Oqu(t.lcZ(17,21,"IS_BMLT_NO_2"))}}function b(i,h){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"h1"),t._uU(2,"Checking..."),t.qZA(),t.qZA())}const B=[{path:"",component:(()=>{class i{constructor(e,l,A,U,P,S,E){this.MeetingLists=e,this.ServiceGroups=l,this.loaderCtrl=A,this.translate=U,this.storage=P,this.geolocation=S,this.iab=E,this.currentAddress="",this.addressLatitude=0,this.addressLongitude=0,this.nearestMeeting="",this.bmltEnabled="maybe",this.loader=null,this.ServiceGroups.getAllServiceGroups().subscribe(D=>{this.serviceGroupNames=D,this.storage.get("savedAddressLat").then(Z=>{Z?(this.addressLatitude=Z,this.storage.get("savedAddressLng").then(T=>{T?(this.addressLongitude=T,this.findNearestMeeting()):this.locatePhone()})):this.locatePhone()})})}getServiceNameFromID(e){return this.serviceGroupNames.find(function(A){return A.id===e}).name}findNearestMeeting(){this.translate.get("LOCATING").subscribe(e=>{this.presentLoader(e)}),this.MeetingLists.getNearestMeeting(this.addressLatitude,this.addressLongitude).subscribe(e=>{this.nearestMeeting=e,this.nearestMeeting=this.nearestMeeting.filter(l=>l.service_body_bigint=this.getServiceNameFromID(l.service_body_bigint)),this.dismissLoader(),this.bmltEnabled=this.nearestMeeting[0].distance_in_miles<100?"true":"false"})}presentLoader(e){this.loader||(this.loader=this.loaderCtrl.present(e))}dismissLoader(){this.loader&&(console.log("Dismissing loader.."),this.loader=this.loaderCtrl.dismiss(),this.loader=null)}locatePhone(){this.translate.get("LOCATING").subscribe(e=>{this.presentLoader(e)}),this.geolocation.getCurrentPosition({timeout:1e4}).then(e=>{this.addressLatitude=e.coords.latitude,this.addressLongitude=e.coords.longitude,this.storage.set("savedAddressLat",this.addressLatitude),this.storage.set("savedAddressLng",this.addressLongitude),this.findNearestMeeting()}).catch(e=>{this.currentAddress="Location not found",this.dismissLoader()})}openLink(e){this.iab.create(e,"_system")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.g),t.Y36(g.K),t.Y36(s.b),t.Y36(a.sK),t.Y36(r.V),t.Y36(u.b),t.Y36(L.i))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-do-i-have-the-bmlt"]],decls:37,vars:18,consts:[["slot","start"],["name","information-circle","item-left",""],["text-wrap",""],[4,"ngIf"],[3,"click"],["name","logo-facebook","item-left",""],["name","globe","item-left",""],["name","happy-outline"]],template:function(e,l){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"ion-content"),t.TgZ(8,"ion-card"),t.TgZ(9,"ion-card-header"),t.TgZ(10,"ion-card-title"),t._UZ(11,"ion-icon",1),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.TgZ(14,"ion-card-content"),t.TgZ(15,"ion-list"),t.TgZ(16,"ion-item",2),t.YNc(17,M,24,30,"div",3),t.YNc(18,f,18,23,"div",3),t.YNc(19,b,3,0,"div",3),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"ion-card"),t.TgZ(21,"ion-card-header"),t.TgZ(22,"ion-card-title"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"ion-card-content"),t.TgZ(26,"ion-list"),t.TgZ(27,"ion-item",2),t.TgZ(28,"ion-button",4),t.NdJ("click",function(){return l.openLink("https://www.facebook.com/groups/149214049107349/")}),t._UZ(29,"ion-icon",5),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.qZA(),t.TgZ(32,"ion-item",2),t.TgZ(33,"ion-button",4),t.NdJ("click",function(){return l.openLink("https://bmlt.app/")}),t._UZ(34,"ion-icon",6),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,8,"DOIHAVETHEBMLT")," "),t.xp6(7),t.hij(" ",t.lcZ(13,10,"IS_BMLT")," "),t.xp6(5),t.Q6J("ngIf","true"==l.bmltEnabled),t.xp6(1),t.Q6J("ngIf","false"==l.bmltEnabled),t.xp6(1),t.Q6J("ngIf","maybe"==l.bmltEnabled),t.xp6(4),t.Oqu(t.lcZ(24,12,"FIND_OUT_MORE")),t.xp6(7),t.hij("\xa0",t.lcZ(31,14,"JOIN_FB_GROUP"),""),t.xp6(5),t.hij("\xa0",t.lcZ(36,16,"VISIT_WEBSITE"),""))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.W2,o.PM,o.Zi,o.Dq,o.gu,o.FN,o.q_,o.Ie,d.O5,o.YG],pipes:[a.X$,d.JJ],styles:[""]}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[v.Bz.forChild(B)],v.Bz]}),i})(),I=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[L.i,c.g,g.K,u.b,r.V],imports:[[d.ez,_.u5,o.Pc,a.aw,y]]}),i})()},5038:(p,m,n)=>{n.d(m,{b:()=>v});var d=n(4762),_=n(865),o=n(5793);let v=(()=>{class t{constructor(g){this.loadingController=g,this.isLoading=!1}present(g){return(0,d.mG)(this,void 0,void 0,function*(){return this.isLoading=!0,yield this.loadingController.create({spinner:"circles",message:g}).then(s=>{s.present().then(()=>{this.isLoading||s.dismiss()})})})}dismiss(){return(0,d.mG)(this,void 0,void 0,function*(){return this.isLoading=!1,yield this.loadingController.dismiss()})}}return t.\u0275fac=function(g){return new(g||t)(_.LFG(o.HT))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3769:(p,m,n)=>{n.d(m,{g:()=>t});var d=n(4762),_=n(865),o=n(4522),v=n(5247);let t=(()=>{class c{constructor(s,a){this.http=s,this.httpCors=a,this.tomatoBMLT="https://tomato.bmltenabled.org/main_server/client_interface/json/",this.virtualBMLT="https://bmlt.virtual-na.org/main_server/client_interface/json/",this.getApiUrlVirt="https://bmlt.virtual-na.org/main_server/client_interface/json/?switcher=GetSearchResults&sort_keys=weekday_tinyint,start_time",this.getAllVirtMtgs="https://bmlt.virtual-na.org/main_server/client_interface/json/?switcher=GetSearchResults&data_field_key=location_postal_code_1,duration_time,start_time,time_zone,weekday_tinyint,service_body_bigint,longitude,latitude,location_province,location_municipality,location_street,location_info,location_text,location_neighborhood,formats,format_shared_id_list,comments,meeting_name,location_sub_province,worldid_mixed,root_server_uri,id_bigint,meeting_name,location_text,formatted_address,formatted_location_info,formatted_comments,contact_name_1,contact_phone_1,contact_email_1,contact_name_2,contact_phone_2,contact_email_2&services[]=4&recursive=1&sort_keys=start_time"}getVirtualMeetings(){return(0,d.mG)(this,void 0,void 0,function*(){const s=yield this.httpCors.get(this.getApiUrlVirt,{},{});return JSON.parse(s.data)})}getAllVirtualMeetings(){return(0,d.mG)(this,void 0,void 0,function*(){const s=yield this.httpCors.get(this.getAllVirtMtgs,{},{});return JSON.parse(s.data)})}getAutoRadiusMeetings(s,a,r){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&geo_width_km=-"+r+"&long_val="+a+"&lat_val="+s+"&sort_keys=longitude,latitude&callingApp=bmlt_search_3_ionic")}getRadiusMeetings(s,a,r){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&data_field_key=longitude,latitude,id_bigint&geo_width_km="+r+"&long_val="+a+"&lat_val="+s+"&sort_keys=longitude,latitude&callingApp=bmlt_search_3_ionic")}getAddressMeetings(s,a,r){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&geo_width_km=-"+r+"&long_val="+a+"&lat_val="+s+"&sort_keys=longitude,latitude&callingApp=bmlt_search_3_ionic")}getNearestMeeting(s,a){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&geo_width_km=-1&long_val="+a+"&lat_val="+s+"&sort_keys=longitude,latitude&callingApp=bmlt_search_3_ionic")}getMeetingsByAreaProvider(s){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&services="+s+"&sort_keys=weekday_tinyint,start_time&callingApp=bmlt_search_3_ionic")}getMeetingsByVirtArea(s){return(0,d.mG)(this,void 0,void 0,function*(){const a=this.virtualBMLT+"?switcher=GetSearchResults&services="+s+"&sort_keys=weekday_tinyint,start_time&callingApp=bmlt_search_3_ionic",r=yield this.httpCors.get(a,{},{});return JSON.parse(r.data)})}getSingleMeetingByID(s){return this.http.get(this.tomatoBMLT+"?switcher=GetSearchResults&meeting_ids[]="+s)}}return c.\u0275fac=function(s){return new(s||c)(_.LFG(o.eN),_.LFG(v.t))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})()}}]);